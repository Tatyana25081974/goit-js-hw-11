{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48210883-f70532ba3d786d958e1d4920f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query, page = 1, perPage = 9) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch data');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n\n","import iziToast from 'izitoast';// імпортується  бібліотека для створення стильних сповіщень.\nimport 'izitoast/dist/css/iziToast.min.css';// імпортуються стилі бібліотеки \n\nexport function renderImageCards(images) {\n  const gallery = document.querySelector('.gallery');// знаходить елемент із класом .gallery, у якому будуть відображатися зображення.\n  const markup = images // це масив об'єктів, кожен з яких містить дані про зображення:(webformatURL — URL мініатюри,largeImageURL — URL великого зображення, )\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a href=\"${largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p>\n                <span>${likes}</span>\n                <span>Likes</span>\n            </p>\n            <p>\n                <span>${views}</span>\n                <span>Views</span>\n            </p>\n            <p>\n                <span>${comments}</span>\n                <span>Comments</span>\n            </p>\n            <p>\n                <span>${downloads}</span>\n                <span>Downloads</span>\n            </p>\n          </div>\n        </a>\n      `\n    )\n    .join('');//.join('') об'єднує всі створені елементи в один HTML-рядок.\n  gallery.innerHTML = markup; //вставляє створений HTML у контейнер .gallery.\n}\n\nexport function showNotification(message, type = 'info') {//Приймає два параметри: message — текст повідомлення, яке потрібно відобразити і тип повідомлення\n  iziToast[type]({ title: message, position: 'topRight' }); // Викликає метод iziToast[type] для показу сповіщення:title: message — текст повідомлення.і позиція сповіщення (у верхньому правому куті)\n}\n\nexport function clearGallery() {\n  document.querySelector('.gallery').innerHTML = ''; //Всі зображення та їх метаінформація в галереї видаляються.\n}\n\n\n//Що тут відбувається загалом:\n//Імпорт бібліотеки iziToast: Для створення сповіщень.\n//Рендеринг галереї: Функція renderImageCards створює та додає на сторінку динамічну галерею зображень, яка будується на основі отриманого масиву даних.\n//Показ повідомлень: Функція showNotification відображає сповіщення для інформування користувача.\n//Очищення галереї: Функція clearGallery видаляє весь вміст галереї.","import { fetchImages } from './js/pixabay-api';\nimport { renderImageCards, clearGallery, showNotification } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Отримуємо посилання на елементи сторінки\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n// Ініціалізація модального вікна для галереї\nconst lightbox = new SimpleLightbox('.gallery a');\n\n// Додаємо обробник події на форму пошуку\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n    event.preventDefault(); // Запобігаємо перезавантаженню сторінки\n    const query = input.value.trim(); // Отримуємо пошуковий запит\n\n    // Перевіряємо, чи поле не порожнє\n    if (!query) {\n        showNotification('Please enter a search query!', 'error');\n        return;\n    }\n\n    clearGallery(); // Очищаємо попередні результати\n    showLoader(); // Показуємо індикатор завантаження\n\n    fetchImages(query, 1, 9) // Виконуємо запит до API, повертаємо 9 зображень\n        .then(data => {\n            if (data.hits.length === 0) {\n                showNotification(\n                    'Sorry, there are no images matching your search query. Please try again!',\n                    'error'\n                );\n                return;\n            }\n\n            renderImageCards(data.hits); // Рендеримо отримані зображення\n            lightbox.refresh(); // Оновлюємо модальне вікно\n        })\n        .catch(() => {\n            showNotification('Something went wrong. Please try again later!', 'error');\n        })\n        .finally(() => {\n            hideLoader(); // Ховаємо індикатор завантаження\n        });\n}\n\nfunction showLoader() {\n    loader.classList.add('visible'); // Додаємо клас для відображення індикатора\n}\n\nfunction hideLoader() {\n    loader.classList.remove('visible'); // Видаляємо клас для приховування індикатора\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","data","error","renderImageCards","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showNotification","message","type","iziToast","clearGallery","form","input","loader","lightbox","SimpleLightbox","onSearch","event","showLoader","hideLoader"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,EAAG,CACxD,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAE9J,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCjBO,SAASC,EAAiBC,EAAQ,CACvC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACZ,IACC,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA,mBACjEL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wBAGxBC,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM5B,EACA,KAAK,EAAE,EACVR,EAAQ,UAAYC,CACtB,CAEO,SAASQ,EAAiBC,EAASC,EAAO,OAAQ,CACvDC,EAASD,CAAI,EAAE,CAAE,MAAOD,EAAS,SAAU,UAAU,CAAE,CACzD,CAEO,SAASG,GAAe,CAC7B,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CCjCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,eAAe,EACpC,SAAS,cAAc,UAAU,EACjD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAW,IAAIC,EAAe,YAAY,EAGhDJ,EAAK,iBAAiB,SAAUK,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAM7B,EAAQwB,EAAM,MAAM,KAAI,EAG9B,GAAI,CAACxB,EAAO,CACRkB,EAAiB,+BAAgC,OAAO,EACxD,MACH,CAEDI,IACAQ,IAEA/B,EAAYC,EAAO,EAAG,CAAC,EAClB,KAAKK,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBa,EACI,2EACA,OACpB,EACgB,MACH,CAEDX,EAAiBF,EAAK,IAAI,EAC1BqB,EAAS,QAAO,CAC5B,CAAS,EACA,MAAM,IAAM,CACTR,EAAiB,gDAAiD,OAAO,CACrF,CAAS,EACA,QAAQ,IAAM,CACXa,GACZ,CAAS,CACT,CAEA,SAASD,GAAa,CAClBL,EAAO,UAAU,IAAI,SAAS,CAClC,CAEA,SAASM,GAAa,CAClBN,EAAO,UAAU,OAAO,SAAS,CACrC"}